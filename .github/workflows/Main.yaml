---
name: Package Test Publish

on: push

# https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions

jobs:
  Package_For_PIP:
    uses: ./.github/workflows/Package.yaml

  # Regression_Tests:
  #   needs:
  #     - Package_For_PIP
  #   uses: ./.github/workflows/Regression_Tests.yaml

  Regression_Tests_Agent:
    needs:
      - Package_For_PIP
    uses: ./.github/workflows/Regression_Tests_Agent.yaml

  Regression_Tests_Manager:
    needs:
      - Package_For_PIP
    uses: ./.github/workflows/Regression_Tests_Manager.yaml

  Regression_Tests_Reporter:
    needs:
      - Package_For_PIP
    uses: ./.github/workflows/Regression_Tests_Reporter.yaml

  Publish_Package:
    if: github.repository_owner == 'damies13'
    needs:
    - Package_For_PIP
    # - Regression_Tests
    - Regression_Tests_Agent
    - Regression_Tests_Manager
    - Regression_Tests_Reporter
    uses: ./.github/workflows/Publish.yaml
